<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/home.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <nav>
        <span id="open-close"><i class='bx bx-menu'></i></span>
        <img src="animal.png" alt="">
    </nav>
    <aside id="aside">
        <div class="container-svg" id="home">
            <div>
                <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" fill="#909090" focusable="false" class="style-scope yt-icon" style="pointer-events: none; display: block; width: 25px; height: 25px;">
                    <g class="style-scope yt-icon">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8" class="style-scope yt-icon"></path>
                    </g>
                </svg>
                <span>Home</span>
            </div>
        </div>

        <div class="container-svg" id="profile">
            <div>
                <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" fill="#909090" class="style-scope yt-icon" style="pointer-events: none; display: block; width:25px; height:25px;"><g class="style-scope yt-icon">
                    <path d="m12 3.06 7 3.21v4.84c0 1.3-.25 2.6-.75 3.86-.15.37-.33.76-.55 1.17-.15.27-.31.54-.48.81-1.32 2.01-3.17 3.42-5.23 3.98-2.06-.56-3.91-1.97-5.23-3.98-.17-.27-.33-.54-.48-.81-.22-.41-.4-.79-.55-1.17-.48-1.26-.73-2.56-.73-3.86V6.27l7-3.21m0-1.1L4 5.63v5.49c0 1.47.3 2.9.81 4.22.17.44.37.86.6 1.28.16.3.34.6.52.88 1.42 2.17 3.52 3.82 5.95 4.44l.12.02.12-.03c2.43-.61 4.53-2.26 5.95-4.43.19-.29.36-.58.52-.88.22-.41.43-.84.6-1.28.51-1.33.81-2.76.81-4.23V5.63l-8-3.67zm1.08 10.15c-.32-.06-.64-.11-.96-.12A2.997 2.997 0 0012 6a2.996 2.996 0 00-.12 5.99c-.32.01-.64.06-.96.12C8.64 12.58 7 14.62 7 17h10c0-2.38-1.64-4.42-3.92-4.89zM10 9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm1.12 4.09c.37-.08.64-.11.88-.11s.51.03.88.11c1.48.3 2.63 1.46 3 2.91H8.12c.37-1.45 1.52-2.61 3-2.91z"></path>
                </svg>
                <span>Profile</span>
            </div>
        </div>

        <div class="container-svg" id="logout">
            <div>       
                <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" fill="#909090" class="style-scope yt-icon" style="pointer-events: none; display: block; width:25px; height:25px;">
                    <g class="style-scope yt-icon">
                        <path d="M20 3v18H8v-1h11V4H8V3h12zm-8.9 12.1.7.7 4.4-4.4L11.8 7l-.7.7 3.1 3.1H3v1h11.3l-3.2 3.3z"></path>
                    </g>
                </svg>         
                <span>Logout</span>
            </div>
        </div>

        <div class="container-svg">
            <h2>Configuration</h2>
            <div>
                <span>Change Password</span>
            </div>
        </div>
        
    </aside>

    <main class="main-container">
        <div class="option-container" id="transmit">
            <img src="transmitir.png" alt="Transmit" class="transparent-image">
            <span>Transmitir</span>
        </div>

        <div class="option-container" id="watch">
            <img src="envivo.png" alt="Watch Stream" class="transparent-image">
            <span>Ver Transmisión</span>
        </div>
    </main>

    <script>
        // Obtener elementos del DOM
        const $logout = document.getElementById('logout');
        const $profile = document.getElementById('profile');
        const $openClose = document.getElementById("open-close");
        const $aside = document.getElementById("aside");
        const $home = document.getElementById("home"); 

        // Evento para el menú desplegable
        $openClose.addEventListener("click", () => {
            $aside.classList.toggle("desplegar");
        });

         // Evento para el botón de home
        $home.addEventListener('click', function () {
            window.location.href = '/home.html'; // Redirigir a la página de inicio
        });

        // Evento para el botón de profile
        $profile.addEventListener('click', function () {
            window.location.href = '/profile.html'; // Redirigir al perfil de edición
        });        

        // Evento para el botón de logout
        $logout.addEventListener('click', function () {
            fetch('/logout', {
                method: 'POST', // Cambia a 'GET' si tu backend lo requiere
                headers: {
                    'Content-Type': 'application/json'
                }
            }).then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redirigir al usuario después de cerrar sesión
                }
            }).catch(error => {
                console.error('Error al cerrar sesión:', error);
            });
        });

        const transmit = document.getElementById("transmit");
        const watch = document.getElementById("watch");

        transmit.addEventListener("click", function () {
            window.location.href = "/transmitir.html"; // Redirigir a la vista de transmitir
        });

        watch.addEventListener("click", function () {
            window.location.href = "/verenvivo.html"; // Redirigir a la vista de ver stream
        });
    </script>
    
</body>
</html>